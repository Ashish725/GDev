{"ast":null,"code":"import _slicedToArray from\"/Users/ashish/Desktop/GuruDev/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import moment from'moment';import{Link,useParams,useNavigate}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import Avatar from'../../components/Avatar/Avatar';import{deleteAnswer,postComment}from'../../actions/question';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DisplayAnswer=function DisplayAnswer(_ref){var question=_ref.question,handleShare=_ref.handleShare;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),comment=_useState2[0],setComment=_useState2[1];var User=useSelector(function(state){return state.currentUserReducer;});var _useParams=useParams(),id=_useParams.id;var dispatch=useDispatch();var Navigate=useNavigate();var handleDelete=function handleDelete(answerId,noOfAnswers){dispatch(deleteAnswer(id,answerId,noOfAnswers-1));};var handleComment=function handleComment(e){e.preventDefault();if(User===null){alert('Login or Signup to answer a question');Navigate('/Auth');}else{if(comment===''){alert('Enter an answer before submitting');}else{dispatch(postComment({id:id,commentansBody:comment,userCommentedans:User.result.name}));}}};return/*#__PURE__*/_jsx(\"div\",{children:question.answer.map(function(ans){var _User$result;return/*#__PURE__*/_jsxs(\"div\",{className:\"display-ans\",children:[/*#__PURE__*/_jsx(\"p\",{children:ans.answerBody}),/*#__PURE__*/_jsxs(\"div\",{className:\"question-actions-user\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleShare,children:\"Share\"}),(User===null||User===void 0?void 0:(_User$result=User.result)===null||_User$result===void 0?void 0:_User$result._id)===(ans===null||ans===void 0?void 0:ans.userId)&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return handleDelete(ans._id,question.noOfAnswers);},children:\"Delete\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"commentbox\",children:User&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){handleComment(e);},children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"comment\",children:[\"comment:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"comment\",name:\"comment\",onChange:function onChange(e){setComment(e.target.value);}})]}),/*#__PURE__*/_jsx(\"input\",{type:\"Submit\",style:{color:'white',fontSize:'13px',padding:'5px 5px',backgroundColor:'#009dff',borderRadius:'4px',marginLeft:'2px',cursor:'pointer',transition:'0.2s'},value:\"post\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"answered \",moment(ans.answeredOn).fromNow()]}),/*#__PURE__*/_jsxs(Link,{to:\"/Users/\".concat(ans.userId),className:\"user-link\",style:{color:'#0086d8'},children:[/*#__PURE__*/_jsx(Avatar,{backgroundColor:\"lightgreen\",px:\"8px\",py:\"5px\",borderRadius:\"4px\",children:ans.userAnswered.charAt(0).toUpperCase()}),/*#__PURE__*/_jsx(\"div\",{children:ans.userAnswered})]})]})]})]},ans._id);})});};export default DisplayAnswer;","map":{"version":3,"sources":["/Users/ashish/Desktop/GuruDev/client/src/Pages/Questions/DisplayAnswer.jsx"],"names":["React","useState","moment","Link","useParams","useNavigate","useSelector","useDispatch","Avatar","deleteAnswer","postComment","DisplayAnswer","question","handleShare","comment","setComment","User","state","currentUserReducer","id","dispatch","Navigate","handleDelete","answerId","noOfAnswers","handleComment","e","preventDefault","alert","commentansBody","userCommentedans","result","name","answer","map","ans","answerBody","_id","userId","target","value","color","fontSize","padding","backgroundColor","borderRadius","marginLeft","cursor","transition","answeredOn","fromNow","userAnswered","charAt","toUpperCase"],"mappings":"2JAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,OAASC,IAAT,CAAeC,SAAf,CAAyBC,WAAzB,KAA4C,kBAA5C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,CACA,OAASC,YAAT,CAAuBC,WAAvB,KAAyC,wBAAzC,C,wFAGA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAA6B,IAA3BC,CAAAA,QAA2B,MAA3BA,QAA2B,CAAjBC,WAAiB,MAAjBA,WAAiB,eAClBZ,QAAQ,CAAC,EAAD,CADU,wCACxCa,OADwC,eAC/BC,UAD+B,eAG/C,GAAMC,CAAAA,IAAI,CAAGV,WAAW,CAAC,SAACW,KAAD,QAAYA,CAAAA,KAAK,CAACC,kBAAlB,EAAD,CAAxB,CAH+C,eAIhCd,SAAS,EAJuB,CAIvCe,EAJuC,YAIvCA,EAJuC,CAK/C,GAAMC,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CACA,GAAMc,CAAAA,QAAQ,CAAGhB,WAAW,EAA5B,CACA,GAAMiB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,QAAD,CAAWC,WAAX,CAA2B,CAC5CJ,QAAQ,CAACX,YAAY,CAACU,EAAD,CAAKI,QAAL,CAAeC,WAAW,CAAG,CAA7B,CAAb,CAAR,CACH,CAFD,CAIA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAM,CACxBA,CAAC,CAACC,cAAF,GACA,GAAGX,IAAI,GAAK,IAAZ,CAAiB,CACbY,KAAK,CAAC,sCAAD,CAAL,CACAP,QAAQ,CAAC,OAAD,CAAR,CACH,CAHD,IAGK,CACD,GAAGP,OAAO,GAAK,EAAf,CAAkB,CACdc,KAAK,CAAC,mCAAD,CAAL,CACH,CAFD,IAEM,CACFR,QAAQ,CAACV,WAAW,CAAC,CAAES,EAAE,CAAFA,EAAF,CAAMU,cAAc,CAAEf,OAAtB,CAA+BgB,gBAAgB,CAAEd,IAAI,CAACe,MAAL,CAAYC,IAA7D,CAAD,CAAZ,CAAR,CACH,CACJ,CACJ,CAZD,CAcA,mBACI,qBAEQpB,QAAQ,CAACqB,MAAT,CAAgBC,GAAhB,CAAoB,SAACC,GAAD,sCAChB,aAAK,SAAS,CAAC,aAAf,wBACI,mBAAIA,GAAG,CAACC,UAAR,EADJ,cAEI,aAAK,SAAS,CAAC,uBAAf,wBACI,oCACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEvB,WAA/B,mBADJ,CAGQ,CAAAG,IAAI,OAAJ,EAAAA,IAAI,SAAJ,sBAAAA,IAAI,CAAEe,MAAN,oDAAcM,GAAd,KAAsBF,GAAtB,SAAsBA,GAAtB,iBAAsBA,GAAG,CAAEG,MAA3B,gBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,yBAAMhB,CAAAA,YAAY,CAACa,GAAG,CAACE,GAAL,CAAUzB,QAAQ,CAACY,WAAnB,CAAlB,EAA/B,oBAJZ,GADJ,cASI,YAAK,SAAS,CAAC,YAAf,UAEQR,IAAI,eACA,kCACI,cAAM,QAAQ,CAAG,kBAACU,CAAD,CAAO,CAAED,aAAa,CAACC,CAAD,CAAb,CAAkB,CAA5C,wBACE,eAAO,OAAO,CAAC,SAAf,mCACE,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,SAAtB,CAAgC,IAAI,CAAC,SAArC,CAA+C,QAAQ,CAAE,kBAACA,CAAD,CAAO,CAACX,UAAU,CAACW,CAAC,CAACa,MAAF,CAASC,KAAV,CAAV,CAA2B,CAA5F,EADF,GADF,cAIC,cAAO,IAAI,CAAC,QAAZ,CAAsB,KAAK,CAAE,CAAEC,KAAK,CAAC,OAAR,CAAiBC,QAAQ,CAAC,MAA1B,CAAkCC,OAAO,CAAC,SAA1C,CAAoDC,eAAe,CAAE,SAArE,CAA+EC,YAAY,CAAC,KAA5F,CAAkGC,UAAU,CAAC,KAA7G,CAAmHC,MAAM,CAAC,SAA1H,CAAoIC,UAAU,CAAC,MAA/I,CAA7B,CAAqL,KAAK,CAAC,MAA3L,EAJD,GADJ,EAHZ,EATJ,cA0BI,oCACI,iCAAa9C,MAAM,CAACiC,GAAG,CAACc,UAAL,CAAN,CAAuBC,OAAvB,EAAb,GADJ,cAEI,MAAC,IAAD,EAAM,EAAE,kBAAYf,GAAG,CAACG,MAAhB,CAAR,CAAkC,SAAS,CAAC,WAA5C,CAAwD,KAAK,CAAE,CAACG,KAAK,CAAC,SAAP,CAA/D,wBACI,KAAC,MAAD,EAAQ,eAAe,CAAC,YAAxB,CAAqC,EAAE,CAAC,KAAxC,CAA8C,EAAE,CAAC,KAAjD,CAAuD,YAAY,CAAC,KAApE,UAA2EN,GAAG,CAACgB,YAAJ,CAAiBC,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAA3E,EADJ,cAEI,qBACKlB,GAAG,CAACgB,YADT,EAFJ,GAFJ,GA1BJ,GAFJ,GAAkChB,GAAG,CAACE,GAAtC,CADgB,EAApB,CAFR,EADJ,CA+CH,CAxED,CA0EA,cAAe1B,CAAAA,aAAf","sourcesContent":["import React ,{useState} from 'react'\nimport moment from 'moment'\nimport { Link, useParams,useNavigate } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport Avatar from '../../components/Avatar/Avatar'\nimport { deleteAnswer ,postComment} from '../../actions/question'\n\n\nconst DisplayAnswer = ({question, handleShare}) => {\n    const [comment, setComment]= useState('');\n\n    const User = useSelector((state) => (state.currentUserReducer))\n    const { id } = useParams()\n    const dispatch = useDispatch()\n    const Navigate = useNavigate()\n    const handleDelete = (answerId, noOfAnswers) => {\n        dispatch(deleteAnswer(id, answerId, noOfAnswers - 1))\n    }\n\n    const handleComment = (e) =>{\n        e.preventDefault()\n        if(User === null){\n            alert('Login or Signup to answer a question')\n            Navigate('/Auth')\n        }else{\n            if(comment === ''){\n                alert('Enter an answer before submitting')\n            } else{\n                dispatch(postComment({ id, commentansBody: comment, userCommentedans: User.result.name }))\n            }\n        }\n    }\n\n    return (\n        <div>\n            {\n                question.answer.map((ans) => (\n                    <div className=\"display-ans\" key={ans._id}>\n                        <p>{ans.answerBody}</p>\n                        <div className=\"question-actions-user\">\n                            <div>\n                                <button type=\"button\" onClick={handleShare}>Share</button>\n                                {\n                                    User?.result?._id === ans?.userId && (\n                                        <button type='button' onClick={() => handleDelete(ans._id, question.noOfAnswers )}>Delete</button>\n                                    )\n                                }\n                            </div>\n                            <div className='commentbox'>\n                                {\n                                    User && (\n                                        <div>\n                                            <form onSubmit={ (e) => { handleComment(e) }}>\n                                              <label htmlFor=\"comment\">comment:\n                                                <input type=\"text\" id=\"comment\" name=\"comment\" onChange={(e) => {setComment(e.target.value)}}/>\n                                              </label>\n                                             <input type=\"Submit\"  style={{ color:'white', fontSize:'13px', padding:'5px 5px',backgroundColor: '#009dff',borderRadius:'4px',marginLeft:'2px',cursor:'pointer',transition:'0.2s'}} value='post'/>\n\n                                            </form>\n                                            \n                                        </div>\n                                        \n                                    )\n                                }   \n                            </div>\n                            <div>\n                                <p>answered {moment(ans.answeredOn).fromNow()}</p>\n                                <Link to={`/Users/${ans.userId}`} className='user-link' style={{color:'#0086d8'}}>\n                                    <Avatar backgroundColor=\"lightgreen\" px='8px' py='5px' borderRadius='4px'>{ans.userAnswered.charAt(0).toUpperCase()}</Avatar>\n                                    <div>\n                                        {ans.userAnswered}\n                                    </div>\n                                </Link>\n                            </div>\n                        </div>\n                    </div>\n                ))\n            }\n        </div>\n    )\n}\n\nexport default DisplayAnswer\n"]},"metadata":{},"sourceType":"module"}