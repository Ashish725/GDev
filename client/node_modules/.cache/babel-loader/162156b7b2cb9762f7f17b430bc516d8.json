{"ast":null,"code":"import React,{useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import decode from'jwt-decode';import logo from'../../assets/my_logo.jpg';import search from\"../../assets/search-solid.svg\";import Avatar from'../../components/Avatar/Avatar';import'./Navbar.css';import{setCurrentUser}from'../../actions/currentUser';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Navbar=function Navbar(){var _User$result;var dispatch=useDispatch();var User=useSelector(function(state){return state.currentUserReducer;});var navigate=useNavigate();var handleLogout=function handleLogout(){dispatch({type:'LOGOUT'});navigate('/');dispatch(setCurrentUser(null));};useEffect(function(){var token=User===null||User===void 0?void 0:User.token;if(token){var decodedToken=decode(token);if(decodedToken.exp*1000<new Date().getTime()){handleLogout();}}dispatch(setCurrentUser(JSON.parse(localStorage.getItem('Profile'))));},[User===null||User===void 0?void 0:User.token,dispatch]);return/*#__PURE__*/_jsx(\"nav\",{className:\"main-nav\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"nav-item nav-logo\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\",width:\"80\",height:\"50\"})}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"nav-item nav-btn\",children:\"About\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"nav-item nav-btn\",children:\"Products\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"nav-item nav-btn\",children:\"For Teams\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search...\"}),/*#__PURE__*/_jsx(\"img\",{src:search,alt:\"search\",width:\"18\",className:\"search-icon\"})]}),User===null?/*#__PURE__*/_jsx(Link,{to:\"/Auth\",className:\"nav-item nav-links\",children:\"Log in\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Avatar,{backgroundColor:\"#009dff\",px:\"10px\",py:\"7px\",borderRadius:\"50%\",color:\"white\",children:/*#__PURE__*/_jsx(Link,{to:\"/Users/\".concat(User===null||User===void 0?void 0:(_User$result=User.result)===null||_User$result===void 0?void 0:_User$result._id),style:{color:\"white\",textDecoration:'none'},children:User.result.name.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsx(\"button\",{className:\"nav-item nav-links\",onClick:handleLogout,children:\"Log out\"})]})]})});};export default Navbar;","map":{"version":3,"sources":["/Users/ashish/Desktop/GuruDev/client/src/components/Navbar/Navbar.jsx"],"names":["React","useEffect","Link","useNavigate","useSelector","useDispatch","decode","logo","Avatar","setCurrentUser","Navbar","dispatch","User","state","currentUserReducer","navigate","handleLogout","type","token","decodedToken","exp","Date","getTime","JSON","parse","localStorage","getItem","search","result","_id","color","textDecoration","name","charAt","toUpperCase"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport decode from 'jwt-decode'\n\nimport logo from '../../assets/my_logo.jpg'\nimport search from '../../assets/search-solid.svg'\nimport Avatar from '../../components/Avatar/Avatar'\nimport './Navbar.css'\nimport { setCurrentUser } from '../../actions/currentUser'\n\nconst Navbar = () => {\n\n    const dispatch = useDispatch()\n    var User = useSelector((state) => (state.currentUserReducer))\n    const navigate = useNavigate();\n\n    const handleLogout = () => {\n        dispatch({ type: 'LOGOUT'});\n        navigate('/')\n        dispatch(setCurrentUser(null))\n    }\n\n    useEffect(() => {\n        const token = User?.token\n        if(token){\n            const decodedToken = decode(token)\n            if(decodedToken.exp * 1000 < new Date().getTime()){\n                handleLogout()\n            }\n        }\n        dispatch(setCurrentUser( JSON.parse(localStorage.getItem('Profile'))))\n    },[User?.token, dispatch])\n\n    return (\n        <nav className='main-nav'>\n            <div className='navbar'>\n                <Link to='/' className='nav-item nav-logo'>\n                    <img src={logo} alt='logo' width=\"80\" height=\"50\" />\n                </Link>\n                <Link to='/' className='nav-item nav-btn'>About</Link>\n                <Link to='/' className='nav-item nav-btn'>Products</Link>\n                <Link to='/' className='nav-item nav-btn'>For Teams</Link>\n                <form>\n                    <input type=\"text\" placeholder='Search...'/>\n                    <img src={search} alt=\"search\" width=\"18\" className='search-icon'/>\n                </form>\n                { User === null ?\n                    <Link to='/Auth' className='nav-item nav-links'>Log in</Link> :\n                    <>\n                        <Avatar backgroundColor='#009dff' px=\"10px\" py=\"7px\" borderRadius=\"50%\" color='white'><Link to={`/Users/${User?.result?._id}`} style={{color:\"white\", textDecoration:'none'}}>{User.result.name.charAt(0).toUpperCase()}</Link></Avatar>\n                        <button className='nav-item nav-links' onClick={handleLogout}>Log out</button>\n                    </>\n                }\n            </div>\n        </nav>\n    )\n}\n\nexport default Navbar\n"]},"metadata":{},"sourceType":"module"}